<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhangbin.dao.StudentMapper">
    <!--å¤šå¯¹ä¸?æŸ¥è¯¢-->

    <!--æ€è·¯ä¸?ï¼šåµŒå¥—æŸ¥è¯¢ï¼ˆå­æŸ¥è¯¢ï¼‰-->
        <!--ä¸?ï¼šæŸ¥è¯¢æ‰€æœ‰çš„å­¦ç”Ÿæ•°æ®-->
        <select id="getStudentTeacher" resultMap="Teacher">
            SELECT * FROM student
        </select>

        <!--äºŒï¼šæ ¹æ®æŸ¥è¯¢å‡ºæ¥å­¦ç”Ÿæ•°æ®ä½œä¸ºæ¡ä»¶å†æŸ¥è¯¢å¯¹åº”çš„è€å¸ˆæ•°æ®-->
        <select id="getTeacher" resultType="Teacher">
            select * from teacher where id = #{id}
        </select>
        <!--ä¸‰ï¼šå®šä¹‰resultMapæ ‡ç­¾  idå¯¹åº”selectæ ‡ç­¾ä¸­çš„resultMapå€?-->
        <resultMap id="Teacher" type="Student">
            <!--å°†å¯¹åº”çš„å®žä½“ç±»å­—æ®µå’Œæ•°æ®åº“å­—æ®µåšå¯¹åº”-->
            <result property="id" column="id"></result>
            <result property="name" column="name"></result>
            <!--ä½¿ç”¨associationæ ‡ç­¾ï¼Œåšå®žä½“ç±»å’Œæ•°æ®åº“å­—æ®µå¯¹åº”ã?? associationï¼ˆå…³è”ï¼‰æ ‡ç­¾(æŸ¥è¯¢å­—æ®µæ˜¯å®žä½“ç±»äº‹ä½¿ç”¨çš„æ ‡ç­¾)
            javaTypeä¸ºå¯¹åº”çš„å®žä½“ç±»ç±»åž‹ï¼Œselectå¯¹åº”çš„æ˜¯å­æŸ¥è¯¢selectæ ‡ç­¾çš„id-->
            <association property="teacher" column="id" javaType="Teacher" select="getTeacher"/>
        </resultMap>

    <!--å¤šå¯¹ä¸?æŸ¥è¯¢-->
    <!--æ€è·¯äºŒï¼šç»“æžœåµŒå¥—æŸ¥è¯¢-->
        <!--ä¸?ï¼šæŸ¥è¯¢æ‰€æœ‰çš„å­¦ç”Ÿå’Œè?å¸ˆçš„æ•°æ?-->
        <select id="getStudentTeacher2" resultMap="StudentMap">
            select s.id sid,s.name sname, t.name tname,t.id tid from student s,teacher t where t.id =  s.tid;
        </select>
        <!--äºŒï¼šå®šä¹‰resultMapæ ‡ç­¾  idå¯¹åº”selectæ ‡ç­¾ä¸­çš„resultMapå€?-->
        <resultMap id="StudentMap" type="Student">
            <!--å°†å¯¹åº”çš„å®žä½“ç±»å­—æ®µå’Œæ•°æ®åº“å­—æ®µåšå¯¹åº”-->
            <result property="id" column="sid"></result>
            <result property="name" column="sname"></result>
            <result property="id" column="sid"></result>
            <!--ä½¿ç”¨associationæ ‡ç­¾ï¼Œåšå®žä½“ç±»å’Œæ•°æ®åº“å­—æ®µå¯¹åº”ã?? associationï¼ˆå…³è”ï¼‰æ ‡ç­¾(æŸ¥è¯¢å­—æ®µæ˜¯å®žä½“ç±»äº‹ä½¿ç”¨çš„æ ‡ç­¾)
            javaTypeä¸ºå¯¹åº”çš„å®žä½“ç±»ç±»åž‹ï¼Œselectå¯¹åº”çš„æ˜¯å­æŸ¥è¯¢selectæ ‡ç­¾çš„id-->
            <association property="teacher" javaType="Teacher">
                <result property="name" column="tname"></result>
                <result property="id" column="tid"></result>
            </association>
        </resultMap>
</mapper>